[gd_scene load_steps=11 format=3 uid="uid://dhntmcte4wuug"]

[ext_resource type="Script" uid="uid://btddahvu1jjhb" path="res://addons/GdPlanningAI/scripts/nodes/gdpai_world_node.gd" id="1_u572v"]
[ext_resource type="Script" uid="uid://dsov73hfryg5g" path="res://addons/GdPlanningAI/scripts/gdpai_blackboard_plan.gd" id="2_owd6i"]
[ext_resource type="Texture2D" uid="uid://cd0g4f4qjpbun" path="res://addons/GdPlanningAI/examples/2D/assets/barrel.png" id="3_vkohr"]
[ext_resource type="PackedScene" uid="uid://h4yk5sl17vo0" path="res://addons/GdPlanningAI/examples/2D/assets/banana_tree.tscn" id="4_m5nv4"]
[ext_resource type="PackedScene" uid="uid://b1bmo16x83s1x" path="res://addons/GdPlanningAI/examples/2D/assets/sample_agent.tscn" id="5_mer3k"]

[sub_resource type="Resource" id="Resource_u0rx4"]
script = ExtResource("2_owd6i")
blackboard_backend = {}
metadata/_custom_type_script = "uid://dsov73hfryg5g"

[sub_resource type="Gradient" id="Gradient_k02pi"]
colors = PackedColorArray(0, 0.312286, 0, 1, 0.149404, 0.341735, 0.229562, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_4r6bb"]
gradient = SubResource("Gradient_k02pi")
width = 1200
height = 800

[sub_resource type="NavigationPolygon" id="NavigationPolygon_2hx57"]
vertices = PackedVector2Array(-365, 72, 339, 69, 435, 69, 282, 76, 170, 76, -179, 75, 49, 277, 534, 285.891, -535, 283.102, -47, 277, 56, 56, -56, 56, 435, -27, 339, -27, 282, -45, 282, -157, 534, -284.102, 282, 188, 170, 188, 49, 181, 37, -125, 37, -221, 170, -157, 170, -45, 56, -56, -56, -56, -185, -26, -185, -138, -59, -125, -297, -26, -365, -24, -59, -221, -179, 187, -47, 181, -291, 187, -297, -138, -461, -24, -535, -286.891, -291, 75, -461, 72)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4, 5), PackedInt32Array(6, 7, 8, 9), PackedInt32Array(10, 1, 0, 11), PackedInt32Array(12, 13, 14, 15, 16), PackedInt32Array(17, 7, 6, 18), PackedInt32Array(16, 7, 2, 12), PackedInt32Array(2, 7, 17, 3), PackedInt32Array(18, 6, 19, 4), PackedInt32Array(20, 21, 22, 23, 24), PackedInt32Array(25, 11, 26, 27, 28), PackedInt32Array(29, 26, 11, 0, 30), PackedInt32Array(14, 13, 1, 10, 23), PackedInt32Array(23, 10, 24), PackedInt32Array(20, 24, 25, 28), PackedInt32Array(31, 28, 27), PackedInt32Array(32, 5, 33, 9), PackedInt32Array(32, 9, 8, 34), PackedInt32Array(35, 29, 30, 36, 37), PackedInt32Array(0, 38, 34, 8, 39), PackedInt32Array(4, 19, 33, 5), PackedInt32Array(0, 5, 38), PackedInt32Array(39, 8, 37, 36), PackedInt32Array(31, 27, 35, 37), PackedInt32Array(31, 37, 16, 21), PackedInt32Array(21, 16, 15, 22)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-575, -327, 574, -324, 574, 326, -575, 323)])
agent_radius = 40.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dffqd"]
size = Vector2(32, 32)

[node name="MultiAgentDemo" type="Node2D"]

[node name="GdPAIWorldNode" type="Node" parent="."]
script = ExtResource("1_u572v")
blackboard_plan = SubResource("Resource_u0rx4")
metadata/_custom_type_script = "uid://btddahvu1jjhb"

[node name="Background" type="Sprite2D" parent="."]
texture = SubResource("GradientTexture2D_4r6bb")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_2hx57")

[node name="Obstacle1" type="StaticBody2D" parent="NavigationRegion2D"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/Obstacle1"]
shape = SubResource("RectangleShape2D_dffqd")

[node name="Sprite2D" type="Sprite2D" parent="NavigationRegion2D/Obstacle1"]
texture = ExtResource("3_vkohr")

[node name="Obstacle2" type="StaticBody2D" parent="NavigationRegion2D"]
position = Vector2(-235, 131)

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/Obstacle2"]
shape = SubResource("RectangleShape2D_dffqd")

[node name="Sprite2D" type="Sprite2D" parent="NavigationRegion2D/Obstacle2"]
texture = ExtResource("3_vkohr")

[node name="Obstacle3" type="StaticBody2D" parent="NavigationRegion2D"]
position = Vector2(-241, -82)

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/Obstacle3"]
shape = SubResource("RectangleShape2D_dffqd")

[node name="Sprite2D" type="Sprite2D" parent="NavigationRegion2D/Obstacle3"]
texture = ExtResource("3_vkohr")

[node name="Obstacle4" type="StaticBody2D" parent="NavigationRegion2D"]
position = Vector2(226, 132)

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/Obstacle4"]
shape = SubResource("RectangleShape2D_dffqd")

[node name="Sprite2D" type="Sprite2D" parent="NavigationRegion2D/Obstacle4"]
texture = ExtResource("3_vkohr")

[node name="Obstacle5" type="StaticBody2D" parent="NavigationRegion2D"]
position = Vector2(226, -101)

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/Obstacle5"]
shape = SubResource("RectangleShape2D_dffqd")

[node name="Sprite2D" type="Sprite2D" parent="NavigationRegion2D/Obstacle5"]
texture = ExtResource("3_vkohr")

[node name="BananaTree" parent="NavigationRegion2D" instance=ExtResource("4_m5nv4")]
position = Vector2(1, 229)

[node name="BananaTree2" parent="NavigationRegion2D" instance=ExtResource("4_m5nv4")]
position = Vector2(387, 21)

[node name="BananaTree3" parent="NavigationRegion2D" instance=ExtResource("4_m5nv4")]
position = Vector2(-11, -173)

[node name="BananaTree4" parent="NavigationRegion2D" instance=ExtResource("4_m5nv4")]
position = Vector2(-413, 24)

[node name="Camera2D" type="Camera2D" parent="."]

[node name="SampleAgent" parent="." instance=ExtResource("5_mer3k")]
position = Vector2(-146, 25)
lock_rotation = true

[node name="SampleAgent2" parent="." instance=ExtResource("5_mer3k")]
position = Vector2(112, -155)
lock_rotation = true
